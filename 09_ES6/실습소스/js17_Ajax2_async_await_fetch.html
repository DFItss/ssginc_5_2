<!DOCTYPE html>
<html>
  <head>
    <title>hello</title>
    <script>
     
      var url = "https://reqres.in/api/users/2";

      var  req = async function(){

         var response = await fetch(url);
         console.log(response);
         console.log(response.ok);
         console.log(response.status);
         console.log(response.url);

         //명시적으로 성공/실패 체크해야 된다.
         if(response.status != 200) {
             // 예외처리 코드
         }else{
            //성공했을 때 실행 코드

         }
         
         var json = await response.json();
         console.log(json);
         var person = json.data;
                console.log(person); //
          
                var id = person.id;
                var email = person.email;
                var first_name = person.first_name;
                var last_name = person.last_name;
                var avatar = person.avatar;

                var table =`
                      <table border="1">
                         <tr>
                           <th>아이디</th>
                           <th>이메일</th>
                           <th>이름</th>
                           <th>아바타</th>
                         </tr>
                         <tr>
                           <td>${id}</td>
                           <td>${email}</td>
                           <td>${first_name}</td>
                           <td><img src='${avatar}' width="100" height="100"></td>
                         </tr>
                      </table>
                  `;
                
                  document.querySelector("#result").innerHTML=table;

      };



    </script>
  </head>
  <body>
    <button onclick="req()">요청</button>
     <div id="result"></div>
  </body>
</html>