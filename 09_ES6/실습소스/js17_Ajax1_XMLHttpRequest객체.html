<!DOCTYPE html>
<html>
  <head>
    <title>hello</title>
    <script>
       // XMLHttpRequest 객체 이용

       var httpRequest;

       // 요청처리 기능하는 함수
       function req(){
          httpRequest = new XMLHttpRequest();

          // 서버에서 응답할 때 처리하는 이벤트 지정
          httpRequest.onreadystatechange=res;   // 콜백처리. res 함수명만 지정.

          httpRequest.open("get", "https://reqres.in/api/users/2", true); // true:비동기
          httpRequest.send(null);
       }

       // 응답처리 기능하는 함수: reqres.in에서 반환하는 JSON 처리
       function res(){
           // 성공했을 경우
           if(httpRequest.readyState == 4 && httpRequest.status == 200){
                //서버에서 응답한 데이터 얻기
                var result = httpRequest.responseText;  // string으로 반환됨.
                console.log(result); // 문자열
                var json = JSON.parse(result);
                console.log(json); // json 객체
                
                var person = json.data;
                console.log(person); //
          
                var id = person.id;
                var email = person.email;
                var first_name = person.first_name;
                var last_name = person.last_name;
                var avatar = person.avatar;

                var table =`
                      <table border="1">
                         <tr>
                           <th>아이디</th>
                           <th>이메일</th>
                           <th>이름</th>
                           <th>아바타</th>
                         </tr>
                         <tr>
                           <td>${id}</td>
                           <td>${email}</td>
                           <td>${first_name}</td>
                           <td><img src='${avatar}' width="100" height="100"></td>
                         </tr>
                      </table>
                  `;
                
                  document.querySelector("#result").innerHTML=table;
           }
       }

    </script>
  </head>
  <body>
    <button onclick="req()">요청</button>
     <div id="result"></div>
  </body>
</html>